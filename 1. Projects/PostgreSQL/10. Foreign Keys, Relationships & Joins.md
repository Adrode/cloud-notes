#foreign_key #relationship #join

## Czym są relationships?
#relationship 
- **Relationship** - powiązanie logiczne między różnymi tabelami; jedna tabela zawiera kolumnę z foreign key do innej kolumny

## Czym są Foreign Key?
#foreign_key
- **Foreign Key** - przy relacji między tabelami (opis wyżej), kolumna zawierająca foreign keys wskazuje na primary keys z innej tabeli

## Jak dodać relationship między tabelami?
#relationship 
- **`CREATE TABLE person (..., car_id BIGINT REFERENCES car(id));`** - tworzy kolumnę `car_id`, `REFERENCES` oznacza powiązanie tej kolumny z `car(id)`, czyli z kolumną `id` z tabeli `car`

## Jak update'ować relationship?
#relationship 
- **`UPDATE person SET car_id = 1 WHERE id = 3;`** - ustawiam `car_id` na wartość 1 dla `id = 3` z `person`, czyli osoba o `id = 3`  ma przypisany samochód z tabeli `car` od `id = 1`;

## Czym jest i jak zrobić INNER JOIN?
#INNER_JOIN
- **INNER JOIN** - zwraca część wspólną dwóch tabel
	- **`SELECT * FROM person JOIN car ON person.car_id = car.id;`**
		- tabele są łączone na zasadzie warunku `ON`
		- warunek może być oparty na FOREING KEY, ale nie musi
		- w warunku `ON` musi być wskazana 1 kolumna z tabeli pierwszej i 1 kolumna z tabeli drugiej, gdzie wskazane kolumny muszą mieć pokrywające się wartości
			- w innym przypadku zostanie zwrócony null, bo nie będzie możliwe stworzenie części wspólnej, ponieważ tabele nie mają jak się logicznie połączyć między sobą