#conflict_handling
## Na czym polega obsłużenie konfliktu?
#conflict_handling
- Podobnie jak w Pythonie, obsługuje się konflikt aby zamiast błędu aplikacji otrzymać określone w kodzie zachowanie

## Jak działa ON CONFLICT ... DO NOTHING?
#ON_CONFLICT #DO_NOTHING
- **`INSERT INTO person (id, ...) VALUES (1, ...) ON CONFLICT (id) DO NOTHING;`** - przy konflikcie duplicate key (tutaj jeśli podaję ręcznie id, a id jest autoincrement, to dostanę wymieniony błąd) dostanę `INSERT 0 0`, czyli zgodnie z określonym zachowaniem `DO NOTHING`, program nie zwróci błędu, ale też niczego nie zrobi
	- mogę zrobić to samo podając `ON CONFLICT (email) DO NOTHING;`, żeby obsłużyć błędy przy email duplicate
	- jeśli zrobię `ON CONFLICT (first_name) DO NOTHING;`, gdzie na first_name nie mam ustawionego żadnego constrainta, to dostanę błąd, ponieważ ON CONFLICT działa tylko na kolumnach które mają constrainty

## Jak działa ON CONFLICT ... DO UPDATE?
#ON_CONFLICT #DO_UPDATE
- **`INSERT INTO person (id, ..., email) VALUES (1, ..., 'adwoz@gmail.com') ON CONFLICT (id) DO UPDATE SET email = EXCLUDED.email;`** - `email` odnosi się do wartości obecnej w tabeli, `EXCLUDED.email` odnosi się do wartości podanej w poleceniu 
