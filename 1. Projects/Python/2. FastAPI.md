#fastapi
## Czym jest FastAPI?
#fastapi
- **FastAPI** to framework, który służy do tworzenia API w Python.
	- Charakteryzuje się szybką wydajnością i nowoczesnością.
	- Oparty jest na **Starlette** (wydajność) i **Pydantic** (walidacja danych).
	- Automatycznie generuje dokumentację w **Swagger**.

## Jak utworzyć projekt FastAPI?
#fastapi 
- Należy utworzyć wirtualne środowisko (`venv`), zainstalować na nim fast api (`pip install fastapi`), kolejno utworzyć plik np. `main.py`, w którym będzie skrypt i uruchomić ten skrypt na lokalnym serwerze poprzez komendę `unicorn main:app --reload` lub `fastapi dev main.py`
	- tutaj `main` to nazwa skrypyu, a `app` to nazwa instancji FastAPI w tym skrypcie (`app = FastAPI()`)
	- pojawią się adresy IP pod którymi można zobaczyć działanie skryptu lub dokumentację

## Jak wygląda przykładowy kod?
#fastapi 
- ```python
from fastapi import FastAPI

app = FastAPI()

all_todos = [
  {'id': 1, 'category': 'sports', 'description': 'Go to the gym'},
  {'id': 2, 'category': 'programming', 'description': 'Learn for 2h'},
  {'id': 3, 'category': 'reading', 'description': 'Read a book for 15 minutes'},
  {'id': 4, 'category': 'meditating', 'description': 'Meditate for 10 minutes'},
  {'id': 5, 'category': 'food', 'description': 'Eat 2700 kcal'},
  {'id': 6, 'category': 'sports', 'description': 'Run for 30 minutes'},
  {'id': 7, 'category': 'food', 'description': 'Prepare recipes'},
  {'id': 8, 'category': 'programming', 'description': 'Prepare a project'},
]
# przykładowe dane

@app.get("/todos/all")
def get_all_todos():
  return all_todos
# przykładowe obsłużenie żądania
  ```
  - dzięki powyższemu pod URL: `localhost_ip/todos/all` zostaną wyświetlone wszystkie elementy danych
  - logika: np. w przeglądarce pojawia sie URL, jeśli program dopasuje URL do któregoś z `@app.get` to wykonuje jego funkcję

## Jak działają path i query parameters?
#query_parameters #path_parameters
- Path parameters:
	- ```python
# path parameters
@app.get("/todos/{id}") # tuaj id to path parameter
def get_todo(id: int): # należy podać typ danych
  for item in all_todos:
    if item['id'] == id:
      return {'result': item}
	  ```
	- są częścią ścieżki, oddzielone `/`, np. `GET /todos/1`
	- **służą do indentyfikacji konkretnego zasobu**
- Query parameters:
	- ```python
# query parameters
@app.get("/todos/filter")
# w odróżnieniu od path params, tutaj nie podaje się query params
def get_category(category: str): # należy podać typ danych
# parametr podany w funkcji zostanie automatycznie zamieniony na query param w URL
  results = []
  for item in all_todos:
    if item['category'] == category:
      results.append(item)
  return results
	  ```
	- są po znaku `?` i są parą `klucz=wartość`, oddzielone `&`, np. `GET /todos/filter?category=programming`
	- **służą najczęściej do filtrowania, sortowania lub stronicowania kolekcji zasobów**